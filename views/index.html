<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, height=device-height">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
    integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
    crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Rammetto+One&display=swap" rel="stylesheet">


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"
    integrity="sha512-1dalHDkG9EtcOmCnoCjiwQ/HEB5SDNqw8d4G2MKoNwjiwMNeBAkudsBCmSlMnXdsH8Bm0mOd3tl/6nL5y0bMaQ=="
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="src/css/jquerymodal.css">
  <link rel="stylesheet" href="src/css/style.css">
  <link rel="stylesheet" href="src/css/buttons.css">
  <link rel="stylesheet" href="src/css/puntuaciones.css">
  <link rel="stylesheet" href="src/css/toltip.css">
  <script src="src/js/jquerymodal.js" defer></script>
  <script src="src/js/index.js" defer></script>
  <script src="src/js/background.js" defer></script>
  <script src="src/js/controllers/user.js" defer></script>
  <script src="src/js/controllers/scoreUser.js" defer></script>

  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v10.0&appId=193336315977409&autoLogAppEvents=1"
    nonce="K5GpnxHP"></script>
  <title>The Cruise War</title>
</head>

<body>
  <audio id="soundclick" src="assets/button-34.wav"></audio>

  <div class="cont">



    <div class="navbar static">
      <div class="menu">
        <a class="opc" id="btn_usuario" href="#m_usuario" rel="modal:open" onclick="SoundClick()">
          <i class="far fa-user"></i>
          <p>Usuario</p>
        </a>
        <a class="opc" id="btn_puntuaciones" href="#m_puntuaciones" rel="modal:open" onclick="SoundClick()">
          <i class="fa fa-award"></i>
          <p>Puntuaciones</p>
        </a>
        <a class="opc" id="btn_controles" href="#m_controles" rel="modal:open" onclick="SoundClick()">
          <i class="fas fa-gamepad"></i>
          <p>Controles</p>
        </a>
        <a class="opc" id="btn_compartir" href="#m_compartir" rel="modal:open" onclick="SoundClick()">
          <i class="fas fa-share-alt"></i>
          <p>Compartir</p>
        </a>
        <a class="opc" id="btn_configuracion" href="#m_configuracion" rel="modal:open" onclick="SoundClick()"
          style="border-bottom: 1px solid #FFFFFF;">
          <i class="fas fa-cog"></i>
          <p>Configuración</p>
        </a>

      </div>
    </div>

    <div class="play">

      <!--Carrusel-->
      <div class="carousel static" id="carousel" style="display: none;" data-gap="20" data-bfc>
        <figure class="static">
          <img class="static" id="playaLevel" src="assets/playa.jpg" alt="">
          <img class="static" id="lavaLevel" src="assets/lava.jpg" alt="">
          <img class="static" id="spaceLevel" src="assets/waterpurple.jpg" alt="">
          <img src="assets/playa.jpg" alt="">
          <img src="assets/lava.jpg" alt="">
          <img src="assets/waterpurple.jpg" alt="">

        </figure>
        <nav>
          <button class="nav prev" onclick="SoundClick()">Anterior</button>
          <button class="nav next" onclick="SoundClick()">Siguiente</button>
        </nav>
      </div>


      <img class="static w-100" src="assets/logo2.png" alt="" id="logo">

      <button class="btn static" onclick="SoundClick()" id="btn_pc">
        <span class="btn__inner static">
          <span class="btn__slide" static></span>
          <span class="btn__content static">Contra pc</span>
        </span>
      </button>

      <button class="btn static" onclick="SoundClick()" id="btn_multi">
        <span class="btn__inner static">
          <span class="btn__slide" static></span>
          <span class="btn__content static">Multijugador</span>
        </span>
      </button>




      <a class="btn static" style="display: none;" onclick="SoundClick()" id="btn_empezar" href="#">
        <span class="btn__inner static">
          <span class="btn__slide" static></span>
          <span class="btn__content static">Empezar</span>
        </span>
      </a>
      <button class="btn static" style="display: none;" onclick="SoundClick()" id="btn_back">
        <span class="btn__inner static">
          <span class="btn__slide" static></span>
          <span class="btn__content static">Regresar</span>
        </span>
      </button>



    </div>

    <div class="right_btns static">
    </div>

  </div>


  <div id="container"></div>
  <div class="fog1 fog"></div>
  <div class="fog2 fog"></div>



  <!--Botones Login-->

  <a class="login" onclick="SoundClick()" id="btnLogin" href="#m_signin" rel="modal:open" style="display: none;">Iniciar
    sesión</a>
  <a class="logup" onclick="SoundClick()" id="btnLogup" href="#m_signup" rel="modal:open"
    style="display: none;">Registrarse</a>
  <a class="logut" onclick="SoundClick()" id="btnLogout" style="display: none;">Cerrar sesión</a>

  <!--Modales-->

  <div id="m_usuario" class="modal ">
    <p>Usuario.</p>
    Inicie sesión
  </div>
  <div id="m_puntuaciones" class="modal ">
    <p>Puntuaciones.</p>

    <table class="table-fill">
      <thead>
        <tr>
          <th class="text-left">Usuario</th>
          <th class="text-left">Puntos</th>
        </tr>
      </thead>
      <tbody class="table-hover" id="body-scores">
        
      </tbody>
    </table>
  </div>
  <div id="m_controles" class="modal ">
    <p>Controles.</p>
  </div>
  <div id="m_compartir" class="modal ">
    <p>Compartir.</p>
    <div class="contCompartir">
      <div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button"
      data-size="small"><a target="_blank"
        href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse"
        class="fb-xfbml-parse-ignore">Compartir</a></div>
  
    <a  class="btn_twitter" href="https://twitter.com/intent/tweet?url=http%3A%2F%2Fparzibyte.me%2Fblog&hashtags=TheCuriseWar,Juega,GraficasWeb"
      target="_blank"><i class="fab fa-twitter"></i>Compartir</a>
     </div>
  </div>
  <div id="m_configuracion" class="modal ">
    <p>Configuración</p>

    <div>
      <p>Volumen</p>
    </div>
    <div class="range-slider">
      <input class="range-slider__range" type="range" value="100" min="0" max="500">
      <span class="range-slider__value">0</span>
    </div>
    <div style="text-align-last: center; width: 100%;">
      <button class="btn static" onclick="SoundClick()">
        <span class="btn__inner static">
          <span class="btn__slide" static></span>
          <span class="btn__content static">Guardar</span>
        </span>
      </button>
    </div>
  </div>

  <div id="m_signin" class="modal ">
    <p>Iniciar sesión</p>
    <form action="" id="login-form">
      <label for="user">Usuario o correo:</label>
      <input type="text" id="user"><br>
      <label for="clave">Contraseña:</label>
      <input type="password" id="clave"><br>
      <div style="text-align-last: center; width: 100%;">
        <button class="btn static" onclick="SoundClick()">
          <span class="btn__inner static">
            <span class="btn__slide" static></span>
            <span class="btn__content static">Entrar</span>
          </span>
        </button>
      </div>
    </form>
  </div>

  <div id="m_signup" class="modal">
    <p>Registrar</p>
    <form action="" id="register-form">
      <label for="r_user">Usuario: </label>
      <input type="text" id="r_user"><br>
      <label for="email">Correo: </label>
      <input type="email" id="r_email"><br>
      <label for="r_clave">Contraseña:</label>
      <input type="password" id="r_password"><br>
      <div style="text-align-last: center; width: 100%;">
        <button type="submit" class="btn static" onclick="SoundClick()" id="btnSignUp">
          <span class="btn__inner static">
            <span class="btn__slide" static></span>
            <span class="btn__content static">Aceptar</span>
          </span>
        </button>
      </div>
    </form>
  </div>

  <div id="m_signin_player2" class="modal ">
    <p>Iniciar sesión</p>
    <form action="" id="login-form-player2">
      <label for="user">Usuario o correo:</label>
      <input type="text" id="userPlayer2"><br>
      <label for="clave">Contraseña:</label>
      <input type="password" id="clavePlayer2"><br>
      <div style="text-align-last: center; width: 100%;">
        <button class="btn static" id="btn_signin_player2" onclick="SoundClick()">
          <span class="btn__inner static">
            <span class="btn__slide" static></span>
            <span class="btn__content static">Entrar</span>
          </span>
        </button>
      </div>
    </form>
  </div>

  </script>
  <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
  <script id="Firebase">
    var firebaseConfig = {
      apiKey: "AIzaSyD-WLwlfxASSyndVSZ8R31aCeHfYVoBxws",
      authDomain: "graficasweb-745d9.firebaseapp.com",
      databaseURL: "https://graficasweb-745d9-default-rtdb.firebaseio.com/",
      projectId: "graficasweb-745d9",
      storageBucket: "graficasweb-745d9.appspot.com",
      messagingSenderId: "762725047745",
      appId: "1:762725047745:web:440d63ec2d1f90ab34e340",
      measurementId: "G-BNWMRV61SW"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
  </script>

  <script>

    $(document).ready(() => {
      
      $('#btn_multi').click(() => {
        $('#m_signin_player2').modal('show');
      });

      if(localStorage.getItem("user2")) {
        localStorage.removeItem("user2");
      }

      getScores();

    });

    function getScores() {
      var dataToSend = {
        action: "getScores"
      };

      $.ajax({
        url: "../controllers/user.php",
        async: true,
        type: 'POST',
        data: dataToSend,
        dataType: 'json',
        success: function (data) {
          console.log(data);

          for(element of data) {
            var score = new Score(element.id, element.userName, element.totalPoints);
            $('#body-scores').append(score.getHtml());
          }
        },
        error: function (x, y, z) {

          alert("Error en webservice: " + x + y + z);
        }
      });
    }

  </script>

  <script src="src/js/auth.js"></script>

</body>

</html>